<!-- Cart Start -->
<div class="container-fluid py-5">
  <div class="container py-5">
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb" class="mb-4">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
        <li class="breadcrumb-item"><a routerLink="/shop">Shop</a></li>
        <li class="breadcrumb-item active" aria-current="page">Shopping Cart</li>
      </ol>
    </nav>

    @if (cartItems.length === 0) {
      <div class="text-center py-5">
        <i class="fas fa-shopping-cart fa-4x text-muted mb-3"></i>
        <h3>Your cart is empty</h3>
        <p class="text-muted">Looks like you haven't added any items yet.</p>
        <a routerLink="/shop" class="btn btn-primary rounded-pill py-2 px-4">
          <i class="fas fa-arrow-left me-2"></i>Continue Shopping
        </a>
      </div>
    } @else {
      <div class="row g-4">
        <!-- Cart Items -->
        <div class="col-lg-8">
          <div class="bg-light rounded p-4">
            @for (item of cartItems; track item.id) {
              <div class="row align-items-center mb-4 pb-2 border-bottom">
                <div class="col-md-2">
                  <img [src]="item.image" class="img-fluid rounded" [alt]="item.name" />
                </div>
                <div class="col-md-4">
                  <h5 class="mb-1">{{ item.name }}</h5>
                  @if (item.oldPrice) {
                    <del class="text-muted me-2">${{ item.oldPrice.toFixed(2) }}</del>
                  }
                  <span class="text-primary fw-bold">${{ item.price.toFixed(2) }}</span>
                </div>
                <div class="col-md-3">
                  <div class="input-group quantity" style="width: 120px">
                    <button
                      class="btn btn-outline-secondary btn-sm"
                      type="button"
                      (click)="decreaseQuantity(item)"
                    >
                      -
                    </button>
                    <input
                      type="text"
                      class="form-control form-control-sm text-center"
                      [value]="item.quantity"
                      readonly
                    />
                    <button
                      class="btn btn-outline-secondary btn-sm"
                      type="button"
                      (click)="increaseQuantity(item)"
                    >
                      +
                    </button>
                  </div>
                </div>
                <div class="col-md-2 text-end">
                  <strong>${{ (item.price * item.quantity).toFixed(2) }}</strong>
                </div>
                <div class="col-md-1 text-end">
                  <a href="javascript:void(0)" class="text-danger" (click)="removeItem(item)">
                    <i class="fas fa-trash"></i>
                  </a>
                </div>
              </div>
            }
            <div class="text-end mt-3">
              <a routerLink="/shop" class="btn btn-outline-secondary rounded-pill py-2 px-4">
                <i class="fas fa-arrow-left me-2"></i>Continue Shopping
              </a>
            </div>
          </div>
        </div>

        <!-- Order Summary -->
        <div class="col-lg-4">
          <div class="bg-light rounded p-4">
            <h4 class="mb-4">Order Summary</h4>
            <div class="d-flex justify-content-between mb-3">
              <span>Subtotal</span>
              <strong>${{ subtotal.toFixed(2) }}</strong>
            </div>
            <div class="d-flex justify-content-between mb-3">
              <span>Shipping</span>
              <strong>{{ shipping === 0 ? 'Free' : '$' + shipping.toFixed(2) }}</strong>
            </div>
            <hr />
            <div class="d-flex justify-content-between mb-4">
              <span class="h5">Total</span>
              <span class="h5 text-primary">${{ total.toFixed(2) }}</span>
            </div>
            <a routerLink="/checkout" class="btn btn-primary rounded-pill w-100 py-3 mb-3">
              <i class="fas fa-lock me-2"></i>Proceed to Checkout
            </a>
            <a routerLink="/shop" class="btn btn-outline-secondary rounded-pill w-100 py-2">
              Continue Shopping
            </a>
          </div>
        </div>
      </div>
    }
  </div>
</div>
<!-- Cart End -->
